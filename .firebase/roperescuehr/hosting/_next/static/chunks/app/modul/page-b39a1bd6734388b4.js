(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{9849:function(e,a,t){Promise.resolve().then(t.bind(t,9994))},9994:function(e,a,t){"use strict";var l=t(7437),s=t(2265),r=t(6463),n=t(7138),o=t(2731);let i=e=>void 0===e?0:4===e?1:Math.min(e,3);a.default=()=>{let e=(0,r.useSearchParams)().get("id"),[a,t]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[x,m]=(0,s.useState)(null),u=e=>{m(a=>a===e?null:e)},j=async e=>{let a=parseInt(e),l="http://192.168.1.12:1337/api/lekcijas?filters[modul][Broj_Modula][$eq]=".concat(a,"&populate[0]=Glavna_Slika&populate[1]=koraks&populate[2]=koraks.Slika&populate[3]=modul&populate[4]=kategorija&sort[0]=Redni_Broj:asc"),s="http://192.168.1.12:1337/api/moduls?filters[Broj_Modula][$eq]=".concat(a);try{let e=await fetch(l,{cache:"no-store"});if(!e.ok)throw Error("Greška pri dohvaćanju lekcija (Status ".concat(e.status,")"));let r=(await e.json()).data,n="Modul ".concat(a),o=a,i=4!==a;try{let e=await fetch(s,{cache:"no-store"}),a=await e.json(),t=a.data.length>0?a.data[0]:null;t&&t.attributes?(n=t.attributes.Naslov,o=t.attributes.Broj_Modula,i=4!==t.attributes.Broj_Modula):r.length>0&&r[0].modul&&r[0].modul.Naslov&&(n=r[0].modul.Naslov)}catch(e){console.warn("API poziv za Modul je pao. Korišten je fallback naslov.")}t({naslov:n,podnaslov:4===o?"Obuka za Instruktore":"Detaljno gradivo za Modul ".concat(o),lekcije:r,jeIspitDostupan:i,modulIdBroj:o})}catch(e){console.error("Fatalna greška pri dohvaćanju podataka:",e),t({naslov:"API Greška",podnaslov:"Povezivanje sa Strapi API-jem je neuspješno. Greška: ".concat(e instanceof Error?e.message:"Nepoznata greška."),lekcije:[],jeIspitDostupan:!1,modulIdBroj:void 0})}finally{d(!1)}};if((0,s.useEffect)(()=>{e?(d(!0),j(e)):d(!1)},[e]),c||!a)return(0,l.jsx)("div",{className:"text-center p-20",children:(0,l.jsx)("div",{className:"text-4xl text-blue-500 animate-pulse",children:"Učitavanje..."})});let h="text-gray-700";1===a.modulIdBroj?h="text-blue-600":2===a.modulIdBroj?h="text-orange-600":3===a.modulIdBroj&&(h="text-red-600");let p="/ispit?modulId=".concat(e),v=Array(i(a.modulIdBroj)).fill(null);return(0,l.jsxs)("div",{className:"container mx-auto p-8 max-w-4xl",children:[(0,l.jsxs)("header",{className:"text-center my-8 border-b pb-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,l.jsx)("div",{className:"flex space-x-1 items-center",children:v.map((e,a)=>(0,l.jsx)("img",{src:"/carabiner-single.png",alt:"Karabiner",className:"h-10 w-10 object-contain"},a))}),(0,l.jsx)("h1",{className:"text-4xl font-extrabold ".concat(h),children:a.naslov})]}),(0,l.jsx)("p",{className:"text-xl text-gray-600 mt-2",children:a.podnaslov}),"API Greška"===a.naslov&&(0,l.jsx)("p",{className:"text-red-600 mt-2 font-bold",children:a.podnaslov})]}),(0,l.jsx)("div",{className:"space-y-4",children:a.lekcije&&a.lekcije.length>0?a.lekcije.map(e=>{var a,t,s;return(0,l.jsxs)("section",{className:"bg-white p-6 rounded-lg shadow-lg mb-4 border-l-4 transition-all duration-300 cursor-pointer\n                                         ".concat(x===e.id?"border-blue-600/90 shadow-xl":"border-blue-600/50 hover:shadow-xl"),onClick:()=>u(e.id),children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex justify-between items-start select-none",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(null===(a=e.Glavna_Slika)||void 0===a?void 0:a.url)?(0,l.jsx)("img",{src:"http://192.168.1.12:1337".concat(e.Glavna_Slika.url),alt:e.Glavna_Slika.alternativeText||"Slika lekcije",className:"w-12 h-12 object-cover rounded-full shadow-md border-2 border-blue-200"}):(0,l.jsx)("div",{className:"w-12 h-12 flex items-center justify-center rounded-full bg-gray-200 text-gray-500 text-lg font-bold",children:"#"}),(0,l.jsxs)("span",{children:[e.Redni_Broj,". ",e.Naziv_Tehnike]})]}),(0,l.jsx)("span",{className:"text-xl transition-transform duration-300 ".concat(x===e.id?"transform rotate-180":""),children:"▼"})]}),x===e.id&&(0,l.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(null===(t=e.Glavna_Slika)||void 0===t?void 0:t.url)&&(0,l.jsx)("div",{className:"my-6 text-center",children:(0,l.jsx)("img",{src:"http://192.168.1.12:1337".concat(e.Glavna_Slika.url),alt:e.Glavna_Slika.alternativeText||e.Naziv_Tehnike,className:"w-full max-h-96 object-contain rounded-lg shadow-md mx-auto"})}),(0,l.jsx)("h3",{className:"text-lg font-semibold mt-4 text-green-700",children:"Namjena:"}),(0,l.jsx)("div",{className:"prose max-w-none text-gray-700 mt-2 mb-6",children:(0,l.jsx)(o.U,{children:e.Namjena})}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-red-700",children:"Oprema i Zahtjevi:"}),(0,l.jsx)("div",{className:"prose max-w-none text-gray-700 mt-2",children:(0,l.jsx)(o.U,{children:e.Oprema_Zahtjev})}),e.kategorija&&(0,l.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Kategorija:"}),(0,l.jsx)(n.default,{href:"/kategorija?naziv=".concat(e.kategorija.Naziv),onClick:e=>e.stopPropagation(),children:(0,l.jsx)("span",{className:"inline-block mt-2 px-4 py-2 bg-purple-100 text-purple-700 font-bold rounded-full hover:bg-purple-200 transition duration-150 cursor-pointer shadow-sm",children:e.kategorija.Naziv})})]}),(null===(s=e.koraks)||void 0===s?void 0:s.length)&&e.koraks.length>0&&(0,l.jsxs)("div",{className:"mt-6 border-t pt-4",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-3 text-gray-800",children:"Koraci:"}),(0,l.jsx)("ol",{className:"list-decimal list-inside space-y-3 pl-4",children:e.koraks.sort((e,a)=>e.Redni_Broj-a.Redni_Broj).map(e=>{var a;return(0,l.jsxs)("li",{className:"text-gray-700",children:[(0,l.jsxs)("span",{className:"font-semibold",children:[e.Redni_Broj,"."]}),(0,l.jsx)("span",{className:"inline ml-2",children:(0,l.jsx)(o.U,{children:e.Tekst})}),(null===(a=e.Slika)||void 0===a?void 0:a.url)&&(0,l.jsx)("div",{className:"my-3 ml-6",children:(0,l.jsx)("img",{src:"http://192.168.1.12:1337".concat(e.Slika.url),alt:e.Slika.alternativeText||"Slika za korak ".concat(e.Redni_Broj),className:"w-full max-h-60 object-contain rounded-lg shadow-sm"})})]},e.id)})})]}),e.Video_URL&&(0,l.jsx)("div",{className:"mt-6 text-center",children:(0,l.jsx)("a",{href:e.Video_URL,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-gray-800 hover:bg-gray-700 text-white font-bold py-2 px-6 rounded-lg transition duration-150",children:"Pogledaj Video Lekciju"})})]})]},e.id)}):(0,l.jsx)("div",{className:"text-center p-10 text-gray-500",children:"Nema pronađenih lekcija za ovaj modul."})}),a.jeIspitDostupan&&(0,l.jsx)("div",{className:"mt-10 text-center",children:(0,l.jsx)(n.default,{href:p,children:(0,l.jsxs)("span",{className:"inline-block bg-yellow-500 hover:bg-yellow-600 text-white font-bold text-xl py-4 px-12 rounded-lg shadow-lg transition duration-150 ease-in-out transform hover:scale-105",children:["Započni Ispit za Modul ",e,(0,l.jsx)("span",{className:"ml-3 text-2xl",children:"⚡"})]})})}),(0,l.jsx)("div",{className:"text-center mt-12",children:(0,l.jsx)(n.default,{href:"/",children:(0,l.jsx)("span",{className:"text-blue-500 hover:text-blue-700 transition cursor-pointer",children:"← Natrag na početnu"})})})]})}}},function(e){e.O(0,[231,706,971,23,744],function(){return e(e.s=9849)}),_N_E=e.O()}]);