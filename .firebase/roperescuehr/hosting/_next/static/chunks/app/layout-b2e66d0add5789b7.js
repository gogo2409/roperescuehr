(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5313:function(e,a,t){Promise.resolve().then(t.bind(t,5867)),Promise.resolve().then(t.t.bind(t,9611,23)),Promise.resolve().then(t.t.bind(t,8877,23)),Promise.resolve().then(t.t.bind(t,231,23)),Promise.resolve().then(t.t.bind(t,936,23))},5867:function(e,a,t){"use strict";t.d(a,{default:function(){return S}});var s=t(7437),r=t(2265),n=t(303);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase()),o=e=>{let a=i(e);return a.charAt(0).toUpperCase()+a.slice(1)},c=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()},u=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,r.forwardRef)((e,a)=>{let{color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:i="",children:o,iconNode:m,...h}=e;return(0,r.createElement)("svg",{ref:a,...d,width:s,height:s,stroke:t,strokeWidth:l?24*Number(n)/Number(s):n,className:c("lucide",i),...!o&&!u(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[a,t]=e;return(0,r.createElement)(a,t)}),...Array.isArray(o)?o:[o]])}),h=(e,a)=>{let t=(0,r.forwardRef)((t,s)=>{let{className:n,...i}=t;return(0,r.createElement)(m,{ref:s,iconNode:a,className:c("lucide-".concat(l(o(e))),"lucide-".concat(e),n),...i})});return t.displayName=o(e),t},p=h("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),x=h("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),g=h("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),j=h("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),f=h("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),y=h("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),v=h("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),b=e=>{switch(e){case"auth/email-already-in-use":return"Ova email adresa je već registrirana.";case"auth/invalid-email":return"Unesena email adresa nije ispravna.";case"auth/weak-password":return"Lozinka mora imati najmanje 6 znakova.";case"auth/user-not-found":case"auth/wrong-password":return"Nevažeća email adresa ili lozinka.";case"auth/operation-not-allowed":return"Prijava putem emaila/lozinke nije omogućena u Firebase projektu.";default:return"Došlo je do neočekivane pogreške. Pokušajte ponovno."}},w=e=>{let{children:a,onClick:t,className:r="",disabled:n=!1}=e;return(0,s.jsx)("button",{onClick:t,disabled:n,className:"flex items-center justify-center px-4 py-2 font-medium text-white transition-all duration-200 rounded-lg shadow-md focus:outline-none focus:ring-4 focus:ring-opacity-50 \n            ".concat(n?"bg-gray-400 cursor-not-allowed":"".concat(r," hover:shadow-lg hover:brightness-110 focus:ring-indigo-500")),children:a})},k=e=>{let{isOpen:a,onClose:t,title:r,children:n}=e;return a?(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 z-50 flex items-center justify-center p-4 transition-opacity duration-300",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6 relative transform transition-all duration-300 scale-100",children:[(0,s.jsx)("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-600",children:(0,s.jsx)(p,{className:"h-6 w-6"})}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-indigo-600 mb-6 border-b pb-2",children:r}),n]})}):null},N=e=>{let{isOpen:a,onClose:t,auth:l}=e,[i,o]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{a&&(o(""),u(""),m(null),p(!1))},[a]);let f=async e=>{if(e.preventDefault(),l){p(!0),m(null);try{await (0,n.Xb)(l,i,c),m({type:"success",text:"Uspješna registracija! Sada ste prijavljeni."}),setTimeout(t,2e3)}catch(e){m({type:"error",text:b(e.code)})}finally{p(!1)}}};return(0,s.jsxs)(k,{isOpen:a,onClose:t,title:"Registracija",children:[(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,s.jsx)("input",{type:"email",placeholder:"Email",required:!0,value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border rounded"}),(0,s.jsx)("input",{type:"password",placeholder:"Lozinka",required:!0,value:c,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border rounded"}),(0,s.jsx)(w,{type:"submit",disabled:h,className:"w-full bg-indigo-600 hover:bg-indigo-700",children:h?"Registriram...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{className:"h-5 w-5 mr-2"})," Registracija"]})})]}),d&&(0,s.jsxs)("div",{className:"mt-4 p-3 rounded-lg flex items-center ".concat("success"===d.type?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:["success"===d.type?(0,s.jsx)(g,{className:"h-5 w-5 mr-2"}):(0,s.jsx)(j,{className:"h-5 w-5 mr-2"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:d.text})]})]})},C=e=>{let{isOpen:a,onClose:t,auth:l}=e,[i,o]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{a&&(o(""),u(""),m(null),p(!1))},[a]);let x=async e=>{if(e.preventDefault(),l){p(!0),m(null);try{await (0,n.e5)(l,i,c),m({type:"success",text:"Uspješna prijava! Dobrodošli."}),setTimeout(t,2e3)}catch(e){m({type:"error",text:b(e.code)})}finally{p(!1)}}};return(0,s.jsxs)(k,{isOpen:a,onClose:t,title:"Prijava",children:[(0,s.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,s.jsx)("input",{type:"email",placeholder:"Email",required:!0,value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border rounded"}),(0,s.jsx)("input",{type:"password",placeholder:"Lozinka",required:!0,value:c,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border rounded"}),(0,s.jsx)(w,{type:"submit",disabled:h,className:"w-full bg-green-600 hover:bg-green-700",children:h?"Prijavljivanje...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{className:"h-5 w-5 mr-2"})," Prijava"]})})]}),d&&(0,s.jsxs)("div",{className:"mt-4 p-3 rounded-lg flex items-center ".concat("success"===d.type?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:["success"===d.type?(0,s.jsx)(g,{className:"h-5 w-5 mr-2"}):(0,s.jsx)(j,{className:"h-5 w-5 mr-2"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:d.text})]})]})};function S(e){let{auth:a,initialAuthToken:t}=e,[l,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!a)return;let e=(0,n.Aj)(a,e=>{i(e),d((null==e?void 0:e.uid)||"Anoniman"),c(!0)});return a.currentUser||(0,n.XB)(a).catch(e=>console.error("Anonimna prijava neuspjela:",e)),()=>e()},[a]);let j=(0,r.useCallback)(()=>{a&&(0,n.w7)(a).catch(e=>console.error("Greška pri odjavi:",e))},[a]);return a&&o?(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-4 p-4 bg-white shadow-xl rounded-xl",children:[l&&!l.isAnonymous?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-sm font-semibold text-gray-700 max-w-xs truncate md:max-w-md lg:max-w-lg",children:["Prijavljen/a kao: ",(0,s.jsx)("span",{className:"text-indigo-600",children:u})]}),(0,s.jsxs)(w,{onClick:j,className:"bg-red-600 hover:bg-red-700",children:[(0,s.jsx)(v,{className:"h-5 w-5 mr-2"})," Odjava"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Anonimni pristup."}),(0,s.jsxs)(w,{onClick:()=>h(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:[(0,s.jsx)(x,{className:"h-5 w-5 mr-2"})," Registracija"]}),(0,s.jsxs)(w,{onClick:()=>g(!0),className:"bg-green-600 hover:bg-green-700",children:[(0,s.jsx)(f,{className:"h-5 w-5 mr-2"})," Prijava"]})]}),(0,s.jsx)(N,{isOpen:m,onClose:()=>h(!1),auth:a}),(0,s.jsx)(C,{isOpen:p,onClose:()=>g(!1),auth:a})]}):(0,s.jsxs)("div",{className:"flex items-center space-x-4 p-4",children:[(0,s.jsx)(y,{className:"h-5 w-5 animate-spin text-gray-500"}),(0,s.jsx)("span",{className:"text-gray-600",children:"Provjera autentifikacije..."})]})}},8877:function(){},9611:function(){},936:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(e){e.O(0,[868,324,231,303,971,23,744],function(){return e(e.s=5313)}),_N_E=e.O()}]);